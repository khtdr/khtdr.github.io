<!DOCTYPE html>
<html lang="en">
	
<head>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">

	
	<title>KHTDR - treeify-paths</title>

	
	


	
	<link rel="stylesheet" href="/css/styles.css" />
<link rel="stylesheet" href="/css/syntax-dracula.css" />


	
	


	
	</head>

	<body>
		
<header class="header">
	<h1 class="site-title"><a href="/">KHTDR</a></h1>
	
<nav class="navigation">
	<ul>
		
		
		
		
	</ul>
</nav>

</header>

		
	
	<div>
		<article>
<a href="/">home</a>/
			
			<a href="https://khtdr.com/categories/software.html">software</a>/
			
 treeify-paths

		
		<time datetime="2020-08-14">originally published on August 14, 2020</time>
		


			
<aside>
	<div>
		<ul class="tags">
			
			<li>#<a href="https://khtdr.com/tags/javascript.html">javascript</a></li><li>#<a href="https://khtdr.com/tags/node-js.html">node-js</a></li><li>#<a href="https://khtdr.com/tags/npm.html">npm</a></li><li>#<a href="https://khtdr.com/tags/typescript.html">typescript</a></li><li>#<a href="https://khtdr.com/tags/typescript-bindings.html">typescript-bindings</a></li>
			
		</ul>
	</div>
</aside>

			<div><h2 id="introduction">Introduction</h2>
<p>Useful when converting a list of file names into a nested UL/LI tree. Perfect for site maps, and directory listings.</p>
<p>Provide a <strong>list of file names</strong>:</p>
<ul>
<li>blog/all.html</li>
<li>blog/2036/overflows.html</li>
</ul>
<p>And recieve a <strong>directory-like tree</strong>:</p>
<ul>
<li>blog
<ul>
<li>all.html</li>
<li>2036
<ul>
<li>overflows.html</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="installation">Installation</h2>
<p>Install it with NPM:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">npm install --save treeify-paths
</span></span></code></pre></div><p>Import with modern syntax:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">treeifyPaths</span> <span class="nx">from</span> <span class="s2">&#34;treeify-paths&#34;</span><span class="p">;</span>
</span></span></code></pre></div><p><em>Or</em> if you are not using NPM, install the library by downloading the <a href="https://raw.githubusercontent.com/khtdr/treeify-paths/master/dist/treeify-paths.js">source file</a> directly and including it in your project:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -o treeify-paths.js <span class="s2">&#34;https://raw.githubusercontent.com/khtdr/treeify-paths/blob/master/dist/treeify-paths.js&#34;</span>
</span></span></code></pre></div><p>Load with classic syntax:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">treeify_paths</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;./treeify-paths&#34;</span><span class="p">).</span><span class="k">default</span><span class="p">;</span>
</span></span></code></pre></div><p>The library itself is written in <a href="https://raw.githubusercontent.com/khtdr/treeify-paths/master/treeify-paths.ts">a few lines of typescript</a>.</p>
<h2 id="example-usage">Example Usage</h2>
<p>This module provides a function <code>treeifyPaths</code> that takes a list of file names and returns a directory-like tree.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">type</span> <span class="nx">Tree</span> <span class="o">:</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">path</span> :<span class="kt">string</span>     <span class="c1">// full path to this node
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">name</span> :<span class="kt">string</span>     <span class="c1">// name of this leaf
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">children</span> :<span class="kt">Tree</span><span class="p">[]</span> <span class="c1">// sub tree of trees and leaves
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">treeifyPaths</span><span class="p">(</span><span class="nx">paths</span> :<span class="kt">string</span><span class="p">[])</span> <span class="o">=&gt;</span> <span class="o">:</span><span class="nx">Tree</span>
</span></span></code></pre></div><p>This example produces prints the following output:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">treeifyPaths</span> <span class="nx">from</span> <span class="s1">&#39;treeify-paths&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">treeifyPaths</span><span class="p">([</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;about.html&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;careers&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;careers/job-1.html&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;careers/job-2.html&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="s1">&#39;to/some/page.aspx&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]),</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span></code></pre></div><pre><code>{
    &quot;path&quot;: &quot;&quot;,
    &quot;name&quot;: &quot;&quot;,
    &quot;children&quot;: [
        {
            &quot;path&quot;: &quot;about.html&quot;,
            &quot;name&quot;: &quot;about.html&quot;,
            &quot;children&quot;: []
        },
        {
            &quot;path&quot;: &quot;careers&quot;,
            &quot;name&quot;: &quot;careers&quot;,
            &quot;children&quot;: [
                {
                    &quot;path&quot;: &quot;careers/job-1.html&quot;,
                    &quot;name&quot;: &quot;job-1.html&quot;,
                    &quot;children&quot;: []
                },
                {
                    &quot;path&quot;: &quot;careers/job-2.html&quot;,
                    &quot;name&quot;: &quot;job-2.html&quot;,
                    &quot;children&quot;: []
                }
            ]
        },
        {
            &quot;path&quot;: &quot;to&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;children&quot;: [
                {
                    &quot;path&quot;: &quot;to/some&quot;,
                    &quot;name&quot;: &quot;&quot;,
                    &quot;children&quot;: [
                        {
                            &quot;path&quot;: &quot;to/some/page.aspx&quot;,
                            &quot;name&quot;: &quot;page.aspx&quot;,
                            &quot;children&quot;: []
                        }
                    ]
                }
            ]
        }
    ]
}
</code></pre>
<p><strong>Online Interactive Examples</strong></p>
<ul>
<li><a href="https://runkit.com/khtdr/treeify-paths">Live example</a></li>
<li><a href="https://runkit.com/downloads/khtdr/treeify-paths/1.0.0.zip">Download example</a></li>
</ul>
<h2 id="testing">Testing</h2>
<p>The mocha <a href="https://github.com/khtdr/treeify-paths/blob/master/tests.js">tests have many examples</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; treeify-paths@1.0.2 pretest khtdr/treeify-paths
</span></span><span class="line"><span class="cl">&gt; tsc lib.ts <span class="o">&amp;&amp;</span> mv lib.js treeify-paths.js
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&gt; treeify-paths@1.0.2 <span class="nb">test</span> khtdr/treeify-paths
</span></span><span class="line"><span class="cl">&gt; mocha tests.js
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  treeifyPaths<span class="o">([</span>...arguments<span class="o">])</span>
</span></span><span class="line"><span class="cl">    arguments: none
</span></span><span class="line"><span class="cl">      ✓ should <span class="k">return</span> an empty object
</span></span><span class="line"><span class="cl">    arguments: empty list
</span></span><span class="line"><span class="cl">      ✓ should <span class="k">return</span> an empty object
</span></span><span class="line"><span class="cl">    arguments: list with a single file
</span></span><span class="line"><span class="cl">      ✓ should <span class="k">return</span> a single file
</span></span><span class="line"><span class="cl">      ✓ should <span class="k">return</span> with nested children
</span></span><span class="line"><span class="cl">    arguments: multiple file names
</span></span><span class="line"><span class="cl">      ✓ should <span class="k">return</span> with nested children
</span></span><span class="line"><span class="cl">      ✓ should alphabetize
</span></span><span class="line"><span class="cl">      ✓ should ignore duplicates
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="m">7</span> passing <span class="o">(</span>8ms<span class="o">)</span>
</span></span></code></pre></div><blockquote>
<p>The full source code and examples are available at: <a href="https://github.com/khtdr/treeify-paths">khtdr/treeify-paths</a></p>
</blockquote>
</div>
		</article>

		

	<div class="post-actions">
		<ul>
			
			<li><a href="..">All posts</a></li>

			
			<li><a href="../index.xml">Subscribe</a></li>
		</ul>
	</div>


	</div>

		

	</body>
</html>
