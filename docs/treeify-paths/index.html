<!DOCTYPE html>
<html lang="en">
	
<head>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">

	
	<title>KHTDR</title>

	
	


	
	<link rel="stylesheet" href="/css/styles.css" />


	
	


	
	</head>

	<body>
		
<header class="header">
	<h1 class="site-title"><a href="/">KHTDR</a></h1>
	
<nav class="navigation">
	<ul>
		
		
		
		
	</ul>
</nav>

</header>

		
	
	<div>
		<article>
			<h2>treeify-paths</h2>
			
<aside>
	<div>
		
		<ul class="categories">
			
			<li><a href="https://khtdr.com/categories/software/">software</a>/</li>
			
		</ul>

		
		<ul class="tags">
			
			<li>#<a href="https://khtdr.com/tags/javascript/">javascript</a></li><li>#<a href="https://khtdr.com/tags/node-js/">node-js</a></li><li>#<a href="https://khtdr.com/tags/npm/">npm</a></li><li>#<a href="https://khtdr.com/tags/typescript/">typescript</a></li><li>#<a href="https://khtdr.com/tags/typescript-bindings/">typescript-bindings</a></li>
			
		</ul>
	</div>
</aside>

			<div><h2 id="introduction">Introduction</h2>
<p>Useful when converting a list of file names into a nested UL/LI tree. Perfect for site maps, and directory listings.</p>
<p>Provide a <strong>list of file names</strong>:</p>
<ul>
<li>blog/all.html</li>
<li>blog/2036/overflows.html</li>
</ul>
<p>And recieve a <strong>directory-like tree</strong>:</p>
<ul>
<li>blog
<ul>
<li>all.html</li>
<li>2036
<ul>
<li>overflows.html</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="installation">Installation</h2>
<p>Install it with NPM:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install --save treeify-paths
</span></span></code></pre></div><p>Import with modern syntax:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">treeifyPaths</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;treeify-paths&#34;</span>;
</span></span></code></pre></div><p><em>Or</em> if you are not using NPM, install the library by downloading the <a href="https://raw.githubusercontent.com/khtdr/treeify-paths/master/dist/treeify-paths.js">source file</a> directly and including it in your project:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -o treeify-paths.js <span style="color:#e6db74">&#34;https://raw.githubusercontent.com/khtdr/treeify-paths/blob/master/dist/treeify-paths.js&#34;</span>
</span></span></code></pre></div><p>Load with classic syntax:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">treeify_paths</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;./treeify-paths&#34;</span>).<span style="color:#66d9ef">default</span>;
</span></span></code></pre></div><p>The library itself is written in <a href="https://raw.githubusercontent.com/khtdr/treeify-paths/master/treeify-paths.ts">a few lines of typescript</a>.</p>
<h2 id="example-usage">Example Usage</h2>
<p>This module provides a function <code>treeifyPaths</code> that takes a list of file names and returns a directory-like tree.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Tree</span> <span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">path</span> :<span style="color:#66d9ef">string</span>     <span style="color:#75715e">// full path to this node
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">name</span> :<span style="color:#66d9ef">string</span>     <span style="color:#75715e">// name of this leaf
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">children</span> :<span style="color:#66d9ef">Tree</span>[] <span style="color:#75715e">// sub tree of trees and leaves
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">treeifyPaths</span>(<span style="color:#a6e22e">paths</span> :<span style="color:#66d9ef">string</span>[]) <span style="color:#f92672">=&gt;</span> <span style="color:#f92672">:</span><span style="color:#a6e22e">Tree</span>
</span></span></code></pre></div><p>This example produces prints the following output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">treeifyPaths</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;treeify-paths&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">treeifyPaths</span>([
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;about.html&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;careers&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;careers/job-1.html&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;careers/job-2.html&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;to/some/page.aspx&#39;</span>,
</span></span><span style="display:flex;"><span>]), <span style="color:#66d9ef">null</span>, <span style="color:#ae81ff">3</span>);
</span></span></code></pre></div><pre><code>{
    &quot;path&quot;: &quot;&quot;,
    &quot;name&quot;: &quot;&quot;,
    &quot;children&quot;: [
        {
            &quot;path&quot;: &quot;about.html&quot;,
            &quot;name&quot;: &quot;about.html&quot;,
            &quot;children&quot;: []
        },
        {
            &quot;path&quot;: &quot;careers&quot;,
            &quot;name&quot;: &quot;careers&quot;,
            &quot;children&quot;: [
                {
                    &quot;path&quot;: &quot;careers/job-1.html&quot;,
                    &quot;name&quot;: &quot;job-1.html&quot;,
                    &quot;children&quot;: []
                },
                {
                    &quot;path&quot;: &quot;careers/job-2.html&quot;,
                    &quot;name&quot;: &quot;job-2.html&quot;,
                    &quot;children&quot;: []
                }
            ]
        },
        {
            &quot;path&quot;: &quot;to&quot;,
            &quot;name&quot;: &quot;&quot;,
            &quot;children&quot;: [
                {
                    &quot;path&quot;: &quot;to/some&quot;,
                    &quot;name&quot;: &quot;&quot;,
                    &quot;children&quot;: [
                        {
                            &quot;path&quot;: &quot;to/some/page.aspx&quot;,
                            &quot;name&quot;: &quot;page.aspx&quot;,
                            &quot;children&quot;: []
                        }
                    ]
                }
            ]
        }
    ]
}
</code></pre>
<p><strong>Online Interactive Examples</strong></p>
<ul>
<li><a href="https://runkit.com/khtdr/treeify-paths">Live example</a></li>
<li><a href="https://runkit.com/downloads/khtdr/treeify-paths/1.0.0.zip">Download example</a></li>
</ul>
<h2 id="testing">Testing</h2>
<p>The mocha <a href="https://github.com/khtdr/treeify-paths/blob/master/tests.js">tests have many examples</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; treeify-paths@1.0.2 pretest khtdr/treeify-paths
</span></span><span style="display:flex;"><span>&gt; tsc lib.ts <span style="color:#f92672">&amp;&amp;</span> mv lib.js treeify-paths.js
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt; treeify-paths@1.0.2 test khtdr/treeify-paths
</span></span><span style="display:flex;"><span>&gt; mocha tests.js
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  treeifyPaths<span style="color:#f92672">([</span>...arguments<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span>    arguments: none
</span></span><span style="display:flex;"><span>      ✓ should <span style="color:#66d9ef">return</span> an empty object
</span></span><span style="display:flex;"><span>    arguments: empty list
</span></span><span style="display:flex;"><span>      ✓ should <span style="color:#66d9ef">return</span> an empty object
</span></span><span style="display:flex;"><span>    arguments: list with a single file
</span></span><span style="display:flex;"><span>      ✓ should <span style="color:#66d9ef">return</span> a single file
</span></span><span style="display:flex;"><span>      ✓ should <span style="color:#66d9ef">return</span> with nested children
</span></span><span style="display:flex;"><span>    arguments: multiple file names
</span></span><span style="display:flex;"><span>      ✓ should <span style="color:#66d9ef">return</span> with nested children
</span></span><span style="display:flex;"><span>      ✓ should alphabetize
</span></span><span style="display:flex;"><span>      ✓ should ignore duplicates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">7</span> passing <span style="color:#f92672">(</span>8ms<span style="color:#f92672">)</span>
</span></span></code></pre></div><blockquote>
<p>The full source code and examples are available at: <a href="https://github.com/khtdr/treeify-paths">khtdr/treeify-paths</a></p>
</blockquote>
</div>
		</article>

		
		<time datetime="2020-08-14">created_at: August 14, 2020</time>
		

		

	<div class="post-actions">
		<ul>
			
			<li><a href="..">All posts</a></li>

			
			<li><a href="../index.xml">Subscribe</a></li>
		</ul>
	</div>


	</div>

		

	</body>
</html>
