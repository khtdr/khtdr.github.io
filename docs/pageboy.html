<!DOCTYPE html>
<html lang="en">
	
<head>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">

	
	<title>KHTDR - pageboy</title>

	
	


	
	<link rel="stylesheet" href="/css/styles.css" />
<link rel="stylesheet" href="/css/syntax-dracula.css" />


	
	<script src="https://unpkg.com/lunr/lunr.js"></script>
<script src="/js/site-search.js"></script>


	
	</head>

	<body>
		
<header class="header">
	<h1 class="site-title"><a href="/">KHTDR</a></h1>
	
<nav class="navigation">
	<ul>
		
		
		
		
	</ul>
</nav>

	<div style="position: relative;">
		<input id="search" autocomplete="off" type="text" placeholder="site search" />
	</div>
</header>

		
	
	<div>
		<article>
<a href="/">home</a>/
			
			<a href="https://khtdr.com/categories/software.html">software</a>/
			
 pageboy


			
<aside>
	<div>
		<ul class="tags">
			
			<li>#<a href="https://khtdr.com/tags/command-line.html">command-line</a></li><li>#<a href="https://khtdr.com/tags/tools.html">tools</a></li>
			
		</ul>
	</div>
</aside>


		
		<time datetime="2020-08-14">originally published on August 14, 2020</time>
		
			<div><!-- raw HTML omitted -->
<h1 id="pageboy">pageboy</h1>
<p>Write your shell scripts in any combination of scripting languages.</p>
<p><strong>Example Script</strong> <code>example.pb</code></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/env pageboy
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="nb">echo</span> in Bash
</span></span><span class="line"><span class="cl"><span class="nv">$PAGE</span> php
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> back to Bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env php</span>
</span></span><span class="line"><span class="cl">&lt;?php <span class="nb">echo</span> <span class="s2">&#34;in PHP\n&#34;</span><span class="p">;</span>
</span></span></code></pre></div><p>Running the following, produces:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chmod +x ./example.pb
</span></span><span class="line"><span class="cl">./example.pb
</span></span></code></pre></div><pre><code>in Bash
in PHP
back to Bash
</code></pre>
<p>You can mix and match all you want. If your script uses valid <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebangs</a>, it will work. If it doesn&rsquo;t, it&rsquo;s a bug and <a href="https://github.com/khtdr/pageboy/issues">please let me know</a>. It also supports the (not quite right) awk shebang: <code>#!/usr/bin/env awk</code>.</p>
<h4 id="tests-suite-status">tests suite status:</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./run-tests.sh
</span></span></code></pre></div><pre><code>pageboy-v2.1.3
    ./pageboy-test            # runs as pageboy script
    ./pageboy-test -r &lt;page&gt;  # runs requested page
    ./pageboy-test -p &lt;page&gt;  # prints requested page
    ./pageboy-test -c         # compiles to bash script
    ./pageboy-test -d         # dumps page table
    ./pageboy-test -h         # shows this message
https://github.com/khtdr/pageboy
./tests/aliased.pb ... passed
./tests/args.pb ... passed
./tests/awk.pb ... passed
./tests/confusing.pb ... passed
./tests/dump.pb ... passed
./tests/lots.pb ... passed
./tests/named.pb ... passed
./tests/pageboy.pb ... passed
./tests/paths.pb ... passed
./tests/plain-bash.pb ... passed
./tests/print-php.pb ... passed
./tests/pwd.pb ... passed
./tests/run-php.pb ... passed
./tests/version.pb ... passed
</code></pre>
<h2 id="installation--quickstart">installation &amp; quickstart</h2>
<ol>
<li>Current version: 2.1.3</li>
<li>Download the <a href="https://raw.githubusercontent.com/khtdr/pageboy/v1.2.3/pageboy">pageboy bash script</a> and put into your <code>$PATH</code> (ie. <code>~/bin/</code>).</li>
<li>Start using <code>#!/usr/bin/env pageboy</code> as your shebang line in your bash scripts.</li>
<li>Call other &ldquo;pages&rdquo; of your script by using the pre-defined <code>$PAGE</code> command in your scripts.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/env pageboy
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="nv">$PAGE</span> php <span class="p">|</span> wc
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env php</span>
</span></span><span class="line"><span class="cl">&lt;?php
</span></span><span class="line"><span class="cl">phpinfo<span class="o">()</span><span class="p">;</span>
</span></span></code></pre></div><pre><code> 934    3524   29671
</code></pre>
<p>If you want multiple pages of the same language, append an index, starting at 1, to the pagename.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/env pageboy
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>cat &lt;<span class="o">(</span><span class="nv">$PAGE</span> php1<span class="o">)</span> &lt;<span class="o">(</span><span class="nv">$PAGE</span> php2<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env php</span>
</span></span><span class="line"><span class="cl">&lt;?php <span class="nb">echo</span> <span class="s2">&#34;one&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env php</span>
</span></span><span class="line"><span class="cl">&lt;?php <span class="nb">echo</span> <span class="s2">&#34;two&#34;</span><span class="p">;</span>
</span></span></code></pre></div><pre><code>onetwo
</code></pre>
<p>You can distribute a version of your script without the dependency on <code>pageboy</code> by compiling it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># copy above into `onetwo.pb`</span>
</span></span><span class="line"><span class="cl">onetwo.pb -c &gt; onetwo.sh
</span></span><span class="line"><span class="cl">chmod +x ./onetwo.sh
</span></span><span class="line"><span class="cl">./onetwo.sh
</span></span></code></pre></div><pre><code>onetwo
</code></pre>
<p><strong>Big Example</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/env pageboy
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>cat &lt;<span class="o">(</span><span class="nv">$PAGE</span> php<span class="o">)</span> &lt;<span class="o">(</span><span class="nv">$PAGE</span> ruby<span class="o">)</span> &lt;<span class="o">(</span><span class="nv">$PAGE</span> bash1<span class="o">)</span> &lt;<span class="o">(</span><span class="nv">$PAGE</span> bash2<span class="o">)</span> &lt;<span class="o">(</span><span class="nv">$PAGE</span> php2<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env php</span>
</span></span><span class="line"><span class="cl">&lt;?php
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="o">(</span><span class="nv">$i</span><span class="o">=</span>10<span class="p">;</span> <span class="nv">$i</span>&lt;<span class="o">=</span>20<span class="p">;</span> <span class="nv">$i</span>++<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="nv">$i</span> . <span class="s2">&#34;\n&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env ruby</span>
</span></span><span class="line"><span class="cl">5.times <span class="k">do</span>
</span></span><span class="line"><span class="cl">  puts <span class="s2">&#34;Hello, World! ~ruby1&#34;</span>
</span></span><span class="line"><span class="cl">end
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/bin/bash</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Hello, World! ~bash2&#34;</span>
</span></span><span class="line"><span class="cl">whoami
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env bash</span>
</span></span><span class="line"><span class="cl">env <span class="p">|</span> grep TERM
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#!/usr/bin/env php</span>
</span></span><span class="line"><span class="cl">&lt;?php
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> __DIR__<span class="p">;</span>
</span></span></code></pre></div><pre><code>10
11
12
13
14
15
16
17
18
19
20
Hello, World! ~ruby1
Hello, World! ~ruby1
Hello, World! ~ruby1
Hello, World! ~ruby1
Hello, World! ~ruby1
Hello, World! ~bash2
khtdr
TERM_PROGRAM=iTerm.app
TERM=xterm-256color
ITERM_PROFILE=Default
ITERM_SESSION_ID=w0t0p0
/home/khtdr/
</code></pre>
<h2 id="standard-features">standard features</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pageboy -h
</span></span></code></pre></div><pre><code>pageboy-v2.1.3
    pageboy            # runs as pageboy script
    pageboy -r &lt;page&gt;  # runs requested page
    pageboy -p &lt;page&gt;  # prints requested page
    pageboy -c         # compiles to bash script
    pageboy -d         # dumps page table
    pageboy -h         # shows this message
https://github.com/khtdr/pageboy
</code></pre>
<p>More examples can be found in the <a href="https://github.com/khtdr/pageboy/blob/master/tests/">tests directory</a>.</p>
<h2 id="advanced-features">advanced features</h2>
<ul>
<li>Pages can be named, see <a href="https://github.com/khtdr/pageboy/blob/master/tests/named.pb">pageboy/tests/named.pb</a></li>
<li>Args can be passed in, see <a href="https://github.com/khtdr/pageboy/blob/master/tests/args.pb">pageboy/tests/args.pb</a></li>
</ul>
<blockquote>
<p>The full source code and examples are available at: <a href="https://github.com/khtdr/pageboy">khtdr/pageboy</a></p>
</blockquote>
</div>
		</article>

		

	<div class="post-actions">
		<ul>
			
			<li><a href="..">All posts</a></li>

			
			<li><a href="../index.xml">Subscribe</a></li>
		</ul>
	</div>


	</div>

		

	</body>
</html>
